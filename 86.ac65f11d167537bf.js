"use strict";(self.webpackChunkattendance_system=self.webpackChunkattendance_system||[]).push([[86],{1086:(L,f,u)=>{u.r(f),u.d(f,{DashboardModule:()=>W});var d=u(6362),l=u(1876),p=u(5693),b=u(1942),g=u(6942),v=u(2218),x=u(8881),A=u(9054);const Z=new class y extends A.v{}(class I extends x.o{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,s=0){return null!==s&&s>0||null===s&&this.delay>0?super.requestAsyncId(t,n,s):t.flush(this)}});var w=u(6957),S=u(3888),N=u(9086),E=u(1722);class F extends v.xQ{constructor(t=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const n=this._events;n.push(t),n.length>this._bufferSize&&n.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new D(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,a=s.length;let r;if(this.closed)throw new N.N;if(this.isStopped||this.hasError?r=w.w.EMPTY:(this.observers.push(t),r=new E.W(this,t)),o&&t.add(t=new S.ht(t,o)),n)for(let h=0;h<a&&!t.closed;h++)t.next(s[h]);else for(let h=0;h<a&&!t.closed;h++)t.next(s[h].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),r}_getNow(){return(this.scheduler||Z).now()}_trimBufferThenGetEvents(){const t=this._getNow(),n=this._bufferSize,s=this._windowTime,o=this._events,a=o.length;let r=0;for(;r<a&&!(t-o[r].time<s);)r++;return a>n&&(r=Math.max(r,a-n)),r>0&&o.splice(0,r),o}}class D{constructor(t,n){this.time=t,this.value=n}}var e=u(6723),j=u(7891);function R(i,t){if(1&i&&(e.TgZ(0,"p",17),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&i){const n=t.ngIf,s=e.oxw();e.xp6(1),e.AsE(" ",e.xi3(2,2,n,"yyyy-MM-dd")," ",s.weekDay[e.xi3(3,5,n,"EEEE")]," ")}}function M(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,"\uff08\u7de8\u8f2f\uff09"),e.qZA())}function Y(i,t){1&i&&(e.TgZ(0,"span"),e._uU(1,"\uff08\u7de8\u8f2f\uff09"),e.qZA())}const J=[{path:"",component:(()=>{class i{constructor(n,s){this.fb=n,this.recordService=s,this.className="d-flex justify-content-center pt-2",this.currentTime$=(0,b.H)(0,1e3).pipe((0,g.U)(()=>new Date),function C(i,t,n){let s;return s=i&&"object"==typeof i?i:{bufferSize:i,windowTime:t,refCount:!1,scheduler:n},o=>o.lift(function U({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let o,r,a=0,h=!1,T=!1;return function(k){let c;a++,!o||h?(h=!1,o=new F(i,t,s),c=o.subscribe(this),r=k.subscribe({next(m){o.next(m)},error(m){h=!0,o.error(m)},complete(){T=!0,r=void 0,o.complete()}})):c=o.subscribe(this),this.add(()=>{a--,c.unsubscribe(),r&&!T&&n&&0===a&&(r.unsubscribe(),r=void 0,o=void 0)})}}(s))}(1)),this.form=this.fb.group({remark:[null]}),this.startTime=null,this.endTime=null,this.weekDay={Monday:"\u661f\u671f\u4e00",Tuesday:"\u661f\u671f\u4e8c",Wednesday:"\u661f\u671f\u4e09",Thursday:"\u661f\u671f\u56db",Friday:"\u661f\u671f\u4e94",Saturday:"\u661f\u671f\u516d",Sunday:"\u661f\u671f\u65e5"},this.hours=Array.from({length:24},(o,a)=>a),this.minutes=Array.from({length:60},(o,a)=>a)}ngOnInit(){this.reloadRangeRecord()}reloadRangeRecord(){this.recordService.getRange().subscribe(({startTime:n,endTime:s,remark:o})=>{this.startTime=n,this.endTime=s,this.form.reset({remark:o})})}onSubmit(){const n=this.form.get("remark").value;this.recordService.create(n).subscribe(()=>{this.reloadRangeRecord(),alert("Success!!")})}}return i.\u0275fac=function(n){return new(n||i)(e.Y36(l.qu),e.Y36(j.B))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],hostVars:1,hostBindings:function(n,s){2&n&&e.Ikx("className",s.className)},decls:42,vars:28,consts:[[1,"d-flex","flex-column","text-center",3,"formGroup"],["class","fa-2x mb-0 text-white",4,"ngIf"],[1,"fa-5x","font-weight-bold","text-white"],[1,"list-group"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"align-items-center","d-flex","w-50"],[1,"fa","fa-clock-o","fa-2x","mr-3"],[1,"text-left"],[1,"font-weight-bold"],[1,"w-50","h4","m-0"],[1,"form-group","mt-3","text-left"],["for","remark",1,"h5","text-white"],["id","remark","type","text","formControlName","remark",1,"form-control"],[1,"d-flex"],["type","button",1,"btn","btn-secondary","fa-2x","rounded","w-50",3,"click"],[4,"ngIf"],[1,"flex-fill","p-1"],[1,"fa-2x","mb-0","text-white"]],template:function(n,s){1&n&&(e.TgZ(0,"form",0),e.YNc(1,R,4,8,"p",1),e.ALo(2,"async"),e.TgZ(3,"p",2),e._uU(4),e.ALo(5,"date"),e.ALo(6,"async"),e.qZA(),e.TgZ(7,"ul",3)(8,"li",4)(9,"div",5),e._UZ(10,"i",6),e.TgZ(11,"div",7),e._uU(12," First time "),e._UZ(13,"br"),e.TgZ(14,"span",8),e._uU(15,"\u9996\u6b21\u6253\u5361"),e.qZA()()(),e.TgZ(16,"div",9),e._uU(17),e.ALo(18,"date"),e.qZA()(),e.TgZ(19,"li",4)(20,"div",5),e._UZ(21,"i",6),e.TgZ(22,"div",7),e._uU(23," Last time "),e._UZ(24,"br"),e.TgZ(25,"span",8),e._uU(26,"\u6700\u5f8c\u6253\u5361"),e.qZA()()(),e.TgZ(27,"div",9),e._uU(28),e.ALo(29,"date"),e.qZA()()(),e.TgZ(30,"div",10)(31,"label",11),e._uU(32,"\u5099\u8a3b\uff1a"),e.qZA(),e._UZ(33,"input",12),e.qZA(),e.TgZ(34,"div",13)(35,"button",14),e.NdJ("click",function(){return s.onSubmit()}),e._uU(36," \u4e0a\u73ed\u6253\u5361 "),e.YNc(37,M,2,0,"span",15),e.qZA(),e._UZ(38,"i",16),e.TgZ(39,"button",14),e.NdJ("click",function(){return s.onSubmit()}),e._uU(40," \u4e0b\u73ed\u6253\u5361 "),e.YNc(41,Y,2,0,"span",15),e.qZA()()()),2&n&&(e.Q6J("formGroup",s.form),e.xp6(1),e.Q6J("ngIf",e.lcZ(2,15,s.currentTime$)),e.xp6(3),e.hij(" ",e.xi3(5,17,e.lcZ(6,20,s.currentTime$),"HH:mm:ss")," "),e.xp6(12),e.ekj("font-weight-bold",s.startTime)("text-black-50",!s.startTime),e.xp6(1),e.hij(" ",s.startTime?e.xi3(18,22,s.startTime,"HH:mm"):"\u5c1a\u672a\u6253\u5361"," "),e.xp6(10),e.ekj("font-weight-bold",s.endTime)("text-black-50",!s.endTime),e.xp6(1),e.hij(" ",s.endTime?e.xi3(29,25,s.endTime,"HH:mm"):"\u5c1a\u672a\u6253\u5361"," "),e.xp6(9),e.Q6J("ngIf",s.startTime),e.xp6(4),e.Q6J("ngIf",s.endTime))},directives:[l._Y,l.JL,l.sg,d.O5,l.Fj,l.JJ,l.u],pipes:[d.Ov,d.uU],styles:[""]}),i})()}];let B=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[p.Bz.forChild(J)],p.Bz]}),i})(),W=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[d.ez,l.UX,B]]}),i})()}}]);
//# sourceMappingURL=86.ac65f11d167537bf.js.map